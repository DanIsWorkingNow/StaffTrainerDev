import{c as s,a,r as l,b as m,j as e}from"./main-0TgHznNF.js";const b=a("417281d1562713f78f32f249ac1e882b4eef5a907dc8a29ee2ded095c10158fb"),u=s({method:"GET"}).handler(b),x=a("de9635657afaaa53bb7acadff122ff5c5787572fc19c279696f01a995223ba5e");s({method:"GET"}).handler(x);const g=a("6188e96f9325eece7a751a0c19775eaa2b9d3c36ef6096699251858c52eefd24");s({method:"GET"}).handler(g);const j=a("63c3ec1ff35e0ab489d3b542a1445e9cfe222a25988fe0d8286177869c74af7e");s({method:"GET"}).handler(j);const p=a("62a0ad59da3fb86a6b7824fdaf95a316110ec483a6b7b424ef6b4346a1be3f0e");s({method:"GET"}).handler(p);const v=a("936727e77449da92adf69a0a49f810950a923a84e26b23b4009227c895d9d7d3");s({method:"GET"}).handler(v);const N=a("be6b687903cdabc6c04429309385be10ae375fbcbee69db70c1f256b9d3a9016");s({method:"GET"}).handler(N);function f(){const[n,r]=l.useState(null),[i,t]=l.useState(!0),[d,c]=l.useState(null);return l.useEffect(()=>{let o=!0;return(async()=>{try{t(!0);const h=await u();o&&(r(h),c(null))}catch(h){o&&c(h)}finally{o&&t(!1)}})(),()=>{o=!1}},[]),{data:n,isLoading:i,error:d}}function _(){const{data:n}=f();return n?.role==="ADMIN"||!1}function T(){const n=m.useLoaderData(),{data:r,isLoading:i}=f(),t=_();return i?e.jsx("div",{className:"p-6",children:"Loading..."}):e.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"RBAC Test Page"}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[e.jsx("h2",{className:"font-bold mb-2",children:"✅ Server Function Test:"}),e.jsx("pre",{className:"text-sm bg-white p-3 rounded overflow-auto",children:JSON.stringify(n,null,2)})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[e.jsx("h2",{className:"font-bold mb-2",children:"✅ Client Hook Test:"}),r&&e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",r.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Role:"})," ",r.role]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Level:"})," ",r.roleLevel]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Is Admin:"})," ",t?"Yes":"No"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Permissions:"})," ",r.permissions.length]})]})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[e.jsx("h2",{className:"font-bold mb-2",children:"Permissions:"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:r?.permissions.map((d,c)=>e.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[d.resource,": ",d.action]},c))})]})]})}export{T as component};
